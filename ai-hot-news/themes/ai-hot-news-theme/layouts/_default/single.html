{{ define "main" }}
<article class="mt-10 px-6 py-10 max-w-3xl mx-auto">
    <header class="mb-4">
        <h1 class="content-animate">{{ .Title }}</h1>
        <div class="mt-5 text-stone-500 text-sm flex items-center gap-2 content-animate font-medium">
            <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2, 2006" }}</time>
            {{ with .Params.author }}
            <span>Â·</span>
            <span>by {{ . }}</span>
            {{ end }}
        </div>
    </header>
    <div class="prose prose-stone max-w-none content-animate">
        {{ .Content }}
    </div>
    
    <div id="post-author" class="w-full mt-10 content-animate">
        <div class="flex items-center space-x-4">
            <img src="images/avatar.webp" alt="Olivia Smith" class="w-20 aspect-square rounded-full object-cover">
            <h5 class="text-2xl font-semibold text-gray-900 mb-0">Olivia AI Smith</h5>
        </div>
        <div>        
            <p class="text-[16px] text-stone-500 pt-2">
                Olivia AI Smith is a senior reporter at <strong>AI Hot News</strong>, covering artificial intelligence, machine learning, and ethical tech innovations. She leverages LLMs to craft compelling stories that explore the intersection of technology and society. Olivia covers startups, tech policy-related updates, and all other major tech-centric developments from the United States.            
            </p>
        </div>
    </div>

    <div class="mt-12 flex justify-center border-t border-gray-800/20 pt-6 content-animate">
        <a href="{{ .Permalink | absURL }}"
            class="accent inline-block text-white text-2xl px-5 py-1.5 rounded-full transition-colors duration-300"
            id="shareButton">
            Share This Article
        </a>
    </div>
    

   
    </div>

    <script>
    document.getElementById('shareButton').addEventListener('click', function(event) {
        event.preventDefault(); // Prevent default link behavior

        // Copy current URL to clipboard
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
            // Change button text to "Copied"
            const button = event.target;
            button.textContent = 'Copied';

            // Change background color to green
            button.classList.remove('accent');
            button.classList.add('copied');
        
            // Track the "linkCopied" event with GoatCounter
            if (window.goatcounter) {
                window.goatcounter.count({
                    path: 'linkCopied', // Custom event name
                    event: true // Mark as an event
                });
            }

            // Optional: Revert text and color after 2 seconds
            setTimeout(() => {
                button.textContent = 'Share This Article';
                button.classList.remove('copied');
                button.classList.add('accent');
            }, 4000);
            }).catch(err => {
                console.error('Failed to copy URL: ', err);
            });
        });
    </script>
<style>
    .accent {
        background-color: #70f; 
    }
    .copied {
        background-color: green; 
    }
</style>

</article>
{{ end }}
