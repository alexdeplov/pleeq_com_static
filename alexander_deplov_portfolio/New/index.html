<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.tailwindcss.com/3.3.1"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <link rel="stylesheet" type="text/css" href="./styles.css">
</head>


<body>
    <div class="max-w-5xl mx-auto px-5 py-10">
        
        <!-- Header -->
        <section id="header" class="unselectable">
            <nav class="flex justify-between">
               <a href="#">Alexander Deplov</a>
               <div class="flex navigation">
                  <a href="#" class="px-3 active">Work</a>
                  <a href="#" class="px-3">Blog</a>
                  <a href="#" class="px-3">About</a>
                  <a href="#" class="pl-3">Resume</a>
               </div>
            </nav>

            <h1 class="size-84 my-52 px-20 relative">              
              <span class="absolute dragit" style="top: 20%; left: 80%; background-color: yellowgreen; width: 100px; height: 100px; font-size: 20px">DRAG ME</span>
              <span class="absolute dragit" style="top: 110%; left: 65%; background-color: yellowgreen; width: 100px; height: 100px; font-size: 20px">DRAG ME</span>
              <div class="size-36 pb-5 z-10 text-slate-500">Senior product designer.</div> 
              <div class="size-73 z-10 text-slate-800">Helping startups to shape and elevate their product experience.</div>
            </h1>
            <script>
              var draggable = $('.dragit'); //element 
              draggable.on('mousedown', function(e){
                var dr = $(this).addClass("drag").css("cursor","move");
                height = dr.outerHeight();
                width = dr.outerWidth();
                ypos = dr.offset().top + height - e.pageY,
                xpos = dr.offset().left + width - e.pageX;
                $(document.body).on('mousemove', function(e){
                  var itop = e.pageY + ypos - height;
                  var ileft = e.pageX + xpos - width;
                  if(dr.hasClass("drag")){
                    dr.offset({top: itop,left: ileft});
                  }
                }).on('mouseup', function(e){
                    dr.removeClass("drag");
                });
              });
              </script>
        </section>

        <section id="two" class="">
            
          <div style="background-color:white; min-height: 500px; margin-top: 100px">
            
          </div>
            <div style="background-color:white; min-height: 500px; margin-top: 100px">feeback from clients</div>
            <div style="background-color:white; min-height: 500px; margin-top: 100px">features - some interesting side projects</div>
            <div style="background-color:white; min-height: 500px; margin-top: 100px">archieve of old projects</div>      
        </section>
        <section id="three">
            <div style="background-color:cornflowerblue; min-height: 500px; margin-top: 100px">footer - what i love, about me</div>
        </section>
    </div>

</body>

<script>
    var body = document.getElementsByTagName('body')[0];

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const targetId = entry.target.id;
          switch (targetId) {
            case "header":
                body.style.backgroundColor = 'whitesmoke';
                document.documentElement.style.backgroundColor = 'whitesmoke';
              break;
            case "two":
                body.style.backgroundColor = 'whitesmoke';
                document.documentElement.style.backgroundColor = 'whitesmoke';
              break;
            case "three":
                body.style.backgroundColor = 'orange';
                document.documentElement.style.backgroundColor = 'orange';
              break;
          }
        }
      });
    });

    // Observe the sections
    observer.observe(document.getElementById("header"));
    observer.observe(document.getElementById("two"));
    observer.observe(document.getElementById("three"));

    window.addEventListener("scroll", function() {
      if (window.scrollY < 100) {
        body.style.backgroundColor = 'whitesmoke';
        document.documentElement.style.backgroundColor = 'whitesmoke';
      } 
    });


    // ANIMATION
    // var footerHeight;

    // $(document).ready(function () {
    //     footerHeight = $("#footer").height();
    // });

    // $(document).scroll(function () {
    //     if ($(window).scrollTop() + $(window).height() > $('body').height() - (footerHeight - 100)) {
    //         $("#floatingMenu").hide();
    //     } else {
    //         $("#floatingMenu").show();
    //     }
    // });

    // Animation, TURN BACK ON:

    // const sectionOne = document.getElementById("one");
    // sectionOne.style.opacity = 0

    // anime({
    //     targets: "#header",
    //     opacity: {
    //         duration: 400,
    //         easing: 'easeOutQuart',
    //         loop: false,
    //         delay: 200,
    //         value: 1
    //     },
    //     translateY: {
    //         duration: 800,
    //         easing: 'easeOutQuart',
    //         loop: false,
    //         delay: 200,
    //         value: -50
    //     }
    // })


    // anime({
    //     targets: "#portfolio",
    //     opacity: {
    //         duration: 400,
    //         easing: 'easeOutQuart',
    //         loop: false,
    //         delay: 400,
    //         value: 1
    //     },
    //     translateY: {
    //         duration: 800,
    //         easing: 'easeOutQuart',
    //         loop: false,
    //         delay: 400,
    //         value: -50
    //     }
    // })

</script>

</html>